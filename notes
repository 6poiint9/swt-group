Company: STC

Stuff to finish/look at:
1. Token im localStorage (XSS-Risiko):

LocalStorage ist für JavaScript zugänglich

Bei XSS-Angriffen kann der Token gestohlen werden

Empfehlung: Auf httpOnly Cookies umstellen:

javascript
// Backend:
res.cookie('token', token, {
  httpOnly: true,    // Nicht von JS lesbar
  secure: true,      // Nur HTTPS
  sameSite: 'strict' // CSRF-Schutz
});

// Frontend:
fetch(url, { credentials: 'include' }); // Cookie wird automatisch gesendet

!!!!!!!!!!!!!!!2. Change Password!!!!!!!!!!!!!!!

erellen von butoon feldern etc frontend.
routing to backend api changepw

3. Logout button
**Implementierung:**
1. Datenbank-Tabelle erstellen:
```sql
CREATE TABLE token_blacklist (
  id SERIAL PRIMARY KEY,
  token TEXT NOT NULL UNIQUE,
  expires_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```2. `checkauth.js` erweitern - Blacklist vor jeder Protected Route prüfen
3. Neue `/api/logout` Route erstellen
4. Frontend: Logout-Handler sendet POST-Request ans Backend


Tasks for Implementation:
login Frontend
Routing
Middleware
Authentication Endpunkt
Database
Connection with database

Backend structure:
backend/
├── node_modules/       # (Ignorieren - Hier leben die installierten Pakete)
├── middleware/         # <-- Dein Ordner!
│   └── checkAuth.js    # (Hier kommt der "Türsteher" rein)
├── models/             # (Später: Hier kommt die Datenbank-Definition rein)
│   └── User.js
├── routes/             # (Hier definieren wir die API-"Türen" / Endpunkte)
│   └── authRoutes.js   # (z.B. /login, /register)
│   └── timesheetRoutes.js # (z.B. /arbeitszeiten)
├── utils/              # (Oder "services")
│   └── tokenService.js # (Hier kommt die Token-Erstellung rein!)
├── .env                # (Die geheime Datei für Passwörter & Secrets)
├── package.json        # (Der "Personalausweis" des Projekts)
└── server.js           # (Die Haupt-Datei: Startet alles)


Time management:

Currently:

 - Decentralized via an Exel document

 -> local machine, no backup, 

 - every Employee enters information and after each month passed to Supervisor

 - checks and hands over to HR

 -> flex time account updated

 vacation:
 - employee fills a request document (with start and end date) -> sent to supervisor
 - Supervisor accepts and sends to HR or rejects the request
 - 30 vacation days per year but can be taken over to next year
 - no work time captured
 flex-time: 
 - can add up and be used for a whole day or some hours
 sickness:
 - inform the HR directly (HR informs the supervisor)
 -> no work time captured
 Breaks:
 - 30 or 45 min.
 
 - every employee has a Laptop protected by login and use credential


 
NEw:

 - Centralized and captures: work time, vacation, sickness ...

 sickness:
 - registered in system by HR and supervisor gets an email notification
 
 - vacation request should be covered

 - employee could delete a vacation request or an approved request

 - at end of the month employee registers all work times and transmit time 
 sheet to superisor
 - after sending times cannot be changed any more
 - supervisor can accept and reject (with reasoning) the work -> if rejected
 employee can request again

 => employee can see own statistics: flex-time, vacations
 - can flips through months and access work time details

 => supervisor can see as well (his own and of his employees)
 
 => HR for everyone and everything
 -> and see if they work too much  (more than 10h/day)




















